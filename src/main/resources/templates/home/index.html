<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="fragments :: head"></div>

<body>
<div th:replace="fragments :: navigation"></div>

<div class="container" id="main">


    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img th:src="@{/img/joker.jpg}" class="d-block w-100" alt="..." style="height: 600px">
                <div class="black-overlay"></div>
                <div class="carousel-caption d-none d-md-block">
                    <h5>Joker - Todd Phillips</h5>
                </div>
            </div>
            <div class="carousel-item">
                <img th:src="@{/img/index2.jpg}" class="d-block w-100" alt="..." style="height: 600px">
                <div class="black-overlay"></div>
                <div class="carousel-caption d-none d-md-block">
                    <h5>Watch favourite movies with your friends</h5>
                    <p>Low ticket price</p>
                </div>
            </div>
            <div class="carousel-item">
                <img th:src="@{/img/index1.jpg}" class="d-block w-100" alt="..." style="height: 600px">
                <div class="black-overlay"></div>
                <div class="carousel-caption d-none d-md-block">
                    <h5>Become Premium Member</h5>
                    <p>There are lots of benefits</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <h3 class="mt-5">Currently Showing</h3>
    <div class="card-deck">
        <th:block th:each="movie: ${movies}">

            <div class="col-10 col-sm-10 col-md-6 col-lg-6 col-xl-6 mx-auto my-5 my-sm-3 my-lg-4 px-xl-0">
                <div class="card border-0 shadow h-100">
                    <div class="card-header bg-primary text-white d-flex justify-content-between">
                        <h5 class="m-0" th:text="${movie.title}"></h5>
                        <div class="d-flex">
                            <img th:src="@{/img/star.png}" alt="Rating" style="height: 22px; width: auto" />
                            <h5 class="m-0 ml-1" th:text="${movie.rating}"></h5>
                        </div>
                    </div>
                    <div class="row no-gutters">

                        <div class="col-md-9">
                            <div class="card-body py-0">
                                <div class="card-text mt-2"><span class="font-weight-bold">Duration: </span><span th:text="${movie.duration}"></span> min</div>
                                <div class="card-text"><span class="font-weight-bold">Year: </span><span th:text="${movie.year}"></span>.</div>
                                <div class="card-text"><span class="font-weight-bold">Genre: </span><span th:text="${movie.genre}"></span></div>
                                <div class="card-text" id="watchbtn"><span class="font-weight-bold">Director: </span><span th:text="${movie.director}"></span></div>
                                <a th:href="@{movies/} + ${movie.id}"  class="btn btn-danger btn-block mt-2 mb-3 shadow">WATCH</a>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <img th:src="@{${movie.image}}" class="card-img h-100" alt="Movie poster image">
                        </div>
                    </div>
                </div>
            </div>

        </th:block>
    </div>

    <h3 class="mt-3">Our Cinemas</h3>
    <div class="card-deck" id="deck">
        <th:block th:each="cinema : ${cinemas}">

            <div class="col-10 col-sm-6 col-md-5 col-lg-4 col-xl-4 mx-auto my-5 my-sm-3 my-lg-4 px-xl-0">
                <div class="card border-0 shadow h-100">
                    <div class="card-header bg-primary text-white text-center">
                        <h5 class="m-0" th:text="${cinema.name}"></h5>
                    </div>
                    <img class="card-img-top image-card-cinema" th:src="@{${cinema.image}}" alt="Cinema image">
                    <div class="card-body bg-white">
                        <div class="card-text">City: <span th:text="${cinema.city}"></span></div>
                        <div class="card-text">Address: <span th:text="${cinema.address}"></span></div>
                        <a th:href="@{/cinemas/{id} (id=${cinema.id})}" class="btn btn-danger btn-block shadow mt-2">VIEW</a>
                    </div>
                </div>
            </div>

        </th:block>
    </div>




</div>
<div th:replace="fragments :: footer"></div>

<div th:replace="fragments :: scripts"></div>
</body>
</html>